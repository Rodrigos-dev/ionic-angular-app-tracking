<ion-content class="swiper-no-swiping">

  <ion-grid class="body">

    <div class="sizeControl">

    <ion-header class="ion-no-border">     

        <ion-toolbar class="new-background-color boxToolbar">

          <ion-grid class="imageBox">
            <img class="logo" src="../../assets/logo Branco.png">
          </ion-grid>          

          <ion-buttons slot="start" class="backButton">
            <ion-button (click)="ordersPag()">
              <ion-icon slot="end" name="arrow-back"></ion-icon>
            </ion-button>
          </ion-buttons>

        </ion-toolbar>      

    </ion-header>

    <h2><strong>Edite seus Dados</strong></h2>

    <ion-grid class="container">

      <form [formGroup]="formUser" (keypress)="onPassKeyPress($event.keyCode)" class="formBox">        

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Nome" formControlName="name" autofocus="true"></ion-input>
          <ion-note slot="end" color="danger"
            *ngIf="formUser.controls.name.dirty && formUser.controls.name.hasError('minlength')">min 2 caracteres
          </ion-note>
          <ion-note slot="end" color="danger"
            *ngIf="!formUser.controls.name.dirty && formUser.controls.name.hasError('required')">*
          </ion-note>
          <ion-icon slot="end" name="person-outline"></ion-icon>
        </ion-item>

        <ion-item class="formRows" lines="none">
          <ion-input type="email" placeholder="E-mail" formControlName="email"></ion-input>
          <ion-note slot="end" color="danger"
            *ngIf="formUser.controls.email.dirty && formUser.controls.email.hasError('email')">E-mail invalido
          </ion-note>
          <ion-note slot="end" color="danger"
            *ngIf="!formUser.controls.email.dirty && formUser.controls.email.hasError('required')">*
          </ion-note>
          <ion-icon slot="end" name="mail-outline"></ion-icon>
        </ion-item>

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Telefone" formControlName="phone" [brmasker]="{phone: true}"></ion-input>
          <ion-note slot="end" color="danger"
            *ngIf="!formUser.controls.phone.dirty && formUser.controls.phone.hasError('required')">*
          </ion-note>
          <ion-icon slot="end" name="call-outline"></ion-icon>          
        </ion-item>

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Cpf" formControlName="cpf" [brmasker]="{mask:'000.000.000-00', len:14, userCaracters: false, type:'num'}"></ion-input>
          <ion-note slot="end" color="danger"
            *ngIf="!formUser.controls.cpf.dirty && formUser.controls.cpf.hasError('required')">*
          </ion-note>
          <ion-icon slot="end" name="id-card-outline"></ion-icon>          
        </ion-item>       

        <!--abaixo inicia parte do endereco-->

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Cep" formControlName="postalcode" [brmasker]="{mask:'00.000-000', len:10, userCaracters: false, type:'num'}" (ionChange)="buscaCep(postalcode)"></ion-input>
            <ion-note slot="end" color="danger"
              *ngIf="!formUser.controls.postalcode.dirty && formUser.controls.postalcode.hasError('required')">*
            </ion-note>            
            <ion-icon slot="end" name="search-outline">
            </ion-icon>              
        </ion-item>

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Endereco" id="street" formControlName="street" readonly="readonly">
          </ion-input>
          <ion-note slot="end" color="danger"
            *ngIf="!formUser.controls.street.dirty && formUser.controls.street.hasError('required')">*
          </ion-note>
          <ion-icon slot="end" name="map-outline"></ion-icon>       
        </ion-item>

        <ion-item class="formRows" lines="none">
          <ion-input type="text" placeholder="Complemento" id="complement" formControlName="complement"></ion-input>
          <ion-icon slot="end" name="code-working-outline"></ion-icon>         
        </ion-item>

        <div class="boxAdressColum">
            <ion-item class="formRows numberForm" lines="none">              
                <ion-input type="text" placeholder="NÂº" id="number" formControlName="number" ></ion-input>
                <ion-note slot="end" color="danger"
                  *ngIf="!formUser.controls.number.dirty && formUser.controls.number.hasError('required')">*
                </ion-note>
                <ion-icon slot="end" name="duplicate-outline"></ion-icon>                              
            </ion-item>

            <ion-item class="formRows " lines="none">
              <ion-input class="bairro" type="text" placeholder="Bairro" id="neighborhood" formControlName="neighborhood" readonly="readonly"></ion-input>
              <ion-note slot="end" color="danger"
                *ngIf="!formUser.controls.neighborhood.dirty && formUser.controls.neighborhood.hasError('required')">*
              </ion-note>
              <ion-icon slot="end" name="ellipsis-horizontal-circle-outline"></ion-icon>                            
            </ion-item>
        </div>

        <div class="boxAdressColum">
          <ion-item class="formRows cityForm" lines="none"> 
            <ion-input type="text" placeholder="Cidade" id="city" formControlName="city" readonly="readonly"></ion-input>
            <ion-note slot="end" color="danger"
              *ngIf="!formUser.controls.city.dirty && formUser.controls.city.hasError('required')">*
            </ion-note>
            <ion-icon slot="end" name="stats-chart-outline"></ion-icon>           
          </ion-item>

          <ion-item class="formRows stateForm" lines="none">
            <ion-input type="text" placeholder="Estado" id="state" formControlName="state" readonly="readonly"></ion-input>
            <ion-note slot="end" color="danger"
              *ngIf="!formUser.controls.state.dirty && formUser.controls.state.hasError('required')">*
            </ion-note>
            <ion-icon slot="end" name="stats-chart-outline"></ion-icon>
          </ion-item>
        </div> 
      
        <ion-button class="ion-margin-top buttonLogin" (click)="updateUser()" color="light" expand="block" [disabled]="formUser.invalid">
          <strong>Atualizar Dados</strong>
        </ion-button>

      </form><!--fim form class formUser-->

    </ion-grid>

  </div>

  </ion-grid><!--fim grid class body-->

</ion-content>